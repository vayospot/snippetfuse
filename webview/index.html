<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>SnippetFuse - AI Context Builder</title>
  </head>
  <body>
    <div class="container">
      <!-- Header -->
      <header class="panel-header">
        <div class="header-content">
          <h1 class="panel-title">Context Builder</h1>
          <div class="header-actions">
            <button class="icon-btn help-button" title="Help" aria-label="Help">
              <span class="codicon codicon-question"></span>
            </button>
            <button
              class="icon-btn reset-button"
              title="Reset all"
              aria-label="Reset all"
            >
              <span class="codicon codicon-refresh"></span>
            </button>
          </div>
        </div>
      </header>

      <!-- Main Content -->
      <main class="main-content">
        <!-- Prompt Template Selection -->
        <section class="prompt-section">
          <div class="section-label">
            <span class="codicon codicon-sparkle"></span>
            <span>Prompt Template</span>
          </div>
          <div class="prompt-dropdown-container">
            <div
              id="prompt-select-display"
              class="prompt-select"
              tabindex="0"
              role="button"
            >
              <span class="selected-prompt">Bug Report</span>
              <span class="codicon codicon-chevron-down dropdown-icon"></span>
            </div>
            <ul
              id="prompt-select-options"
              class="prompt-options hidden"
              role="listbox"
            >
              <li data-value="bug-report" role="option">Bug Report</li>
              <li data-value="feature-request" role="option">
                Feature Request
              </li>
              <li data-value="code-review" role="option">Code Review</li>
              <li data-value="custom" role="option">Custom Prompt</li>
            </ul>
          </div>
          <textarea
            id="custom-prompt-input"
            class="custom-prompt-input hidden"
            placeholder="Describe what you want the AI to help you with..."
            rows="3"
          ></textarea>
        </section>

        <!-- Main Issue Section -->
        <section class="snippets-section">
          <div class="section-header">
            <div class="section-label-with-count">
              <span class="codicon codicon-bug"></span>
              <h2>Main Issue</h2>
              <span class="count-badge main-count">0</span>
            </div>
          </div>
          <div class="main-snippet-container snippet-list">
            <div class="empty-state">
              <span class="empty-icon">üìç</span>
              <div class="empty-content">
                <h3>Set the Main Issue</h3>
                <p>Select code, right-click ‚Üí Set Main Issue</p>
              </div>
            </div>
          </div>
        </section>

        <!-- Context Snippets Section -->
        <section class="snippets-section">
          <div class="section-header">
            <div class="section-label-with-count">
              <span class="codicon codicon-references"></span>
              <h2>Context Snippets</h2>
              <span class="count-badge context-count">0</span>
            </div>
          </div>
          <div class="context-snippets-container snippet-list">
            <div class="empty-state">
              <span class="empty-icon">üîó</span>
              <div class="empty-content">
                <h3>Add Related Context</h3>
                <p>Select code, right-click ‚Üí Add Snippet</p>
              </div>
            </div>
          </div>
        </section>

        <!-- Additional Context Controls -->
        <section class="controls-section">
          <div class="section-header">
            <div class="section-label">
              <span class="codicon codicon-layers"></span>
              <h2>Additional Context</h2>
            </div>
          </div>

          <div class="control-group">
            <!-- Smart Suggestions -->
            <details
              class="control-item expandable"
              id="smart-suggestions-details"
            >
              <summary class="control-summary">
                <span class="control-label">Smart Suggestions</span>
                <span class="codicon codicon-add expand-icon"></span>
              </summary>
              <div class="control-content">
                <div
                  id="smart-suggestions-loading"
                  class="loading-state hidden"
                >
                  <span
                    class="codicon codicon-loading codicon-modifier-spin"
                  ></span>
                  <span>Analyzing snippets...</span>
                </div>
                <div
                  id="smart-suggestions-pills"
                  class="suggestions-pills"
                ></div>
                <div id="smart-suggestions-empty" class="empty-message hidden">
                  <span class="codicon codicon-info"></span>
                  <span>No suggestions available</span>
                </div>
              </div>
            </details>

            <!-- Terminal Log -->
            <details class="control-item expandable" id="terminal-log-details">
              <summary class="control-summary">
                <span class="control-label">Add Terminal Logs</span>
                <span class="codicon codicon-add expand-icon"></span>
              </summary>
              <div class="control-content">
                <textarea
                  id="terminal-log-input"
                  class="terminal-input"
                  placeholder="Paste terminal logs here..."
                  rows="4"
                ></textarea>
              </div>
            </details>

            <!-- External Info -->
            <details class="control-item expandable" id="external-info-details">
              <summary class="control-summary">
                <span class="control-label">Add External Info</span>
                <span class="codicon codicon-add expand-icon"></span>
              </summary>
              <div class="control-content">
                <textarea
                  id="external-info-input"
                  class="terminal-input"
                  placeholder="Paste docs, articles, or other text here..."
                  rows="4"
                ></textarea>
              </div>
            </details>

            <!-- Quick Add Files -->
            <button
              id="quick-add-files-button"
              class="control-item btn-control"
            >
              <span class="control-label">Add Files from Project</span>
              <span class="codicon codicon-chevron-right"></span>
            </button>

            <!-- Project Tree Toggle -->
            <label class="toggle-control">
              <span class="control-label">Include Project Tree</span>
              <input
                type="checkbox"
                id="add-project-tree-checkbox"
                class="toggle-input"
              />
            </label>
          </div>
        </section>
      </main>

      <!-- Footer Actions -->
      <footer class="footer">
        <div class="token-warning hidden">
          <span class="codicon codicon-warning"></span>
          <span class="warning-text"
            >Context may exceed some models' token limits</span
          >
        </div>
        <div class="footer-actions">
          <button id="copy-to-clipboard-button" class="btn-primary">
            <span class="codicon codicon-copy"></span>
            <span>Copy to Clipboard</span>
          </button>
          <div class="dropdown-wrapper">
            <button
              id="export-dropdown-button"
              class="btn-secondary"
              title="Export options"
            >
              <span class="codicon codicon-export"></span>
            </button>
            <div id="export-dropdown-content" class="dropdown-menu hidden">
              <a href="#" data-format="md" class="dropdown-item">
                <span>Export as Markdown</span>
              </a>
              <a href="#" data-format="txt" class="dropdown-item">
                <span>Export as Text</span>
              </a>
            </div>
          </div>
        </div>
      </footer>
    </div>
  </body>
</html>
